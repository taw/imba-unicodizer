!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){var n={VERSION:"1.5.1",createElementFactory:function(){return function(){return!0}},createTagScope:function(){return n},setTimeout:function(t,e){return setTimeout((function(){return e(),n.commit()}),t)},setInterval:function(t,e){return setInterval((function(){return e(),n.commit()}),t)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},subclass:function(t,e){for(let n in e){let r;r=e[n],e.hasOwnProperty(n)&&(t[n]=r)}return t.prototype=Object.create(e.prototype),t.__super__=t.prototype.__super__=e.prototype,t.prototype.initialize=t.prototype.constructor=t,t},iterable:function(t){return t?t.toArray?t.toArray():t:[]},await:function(t){return t instanceof Array?(console.warn("await (Array) is deprecated - use await Promise.all(Array)"),Promise.all(t)):t&&t.then?t:Promise.resolve(t)}},r=/-./g,o={};n.toCamelCase=function(t){return t.indexOf("-")>=0?t.replace(r,(function(t){return t.charAt(1).toUpperCase()})):t},n.toSetter=function(t){return o[t]||(o[t]=n.toCamelCase("set-"+t))},n.indexOf=function(t,e){return e&&e.indexOf?e.indexOf(t):[].indexOf.call(t,e)},n.len=function(t){return t&&(t.len instanceof Function?t.len.call(t):t.length)||0},n.prop=function(t,e,n){if(t.defineProperty)return t.defineProperty(e,n)},n.attr=function(t,e,r){if(void 0===r&&(r={}),t.defineAttribute)return t.defineAttribute(e,r);let o=n.toCamelCase(e),i=n.toCamelCase("set-"+e),s=t.prototype;r.dom?(s[o]=function(){return this.dom()[e]},s[i]=function(t){return t!=this[e]()&&(this.dom()[e]=t),this}):(s[o]=function(){return this.getAttribute(e)},s[i]=function(t){return this.setAttribute(e,t),this})},n.propDidSet=function(t,e,n,r){let o=e.watch;o instanceof Function?o.call(t,n,r,e):("string"==typeof o||o instanceof String)&&t[o]&&t[o](n,r,e)};var i=function(t,e,n){for(var r,o;(r=n)&&(n=n.next);)(o=n.listener)&&(n.path&&o[n.path]?e?o[n.path].apply(o,e):o[n.path]():e?o.apply(n,e):o.call(n)),n.times&&--n.times<=0&&(r.next=n.next,n.listener=null)};n.listen=function(t,e,n,r){var o,i,s;return(s=(i=(o=t.__listeners__||(t.__listeners__={}))[e]||(o[e]={})).tail||(i.tail=i.next={})).listener=n,s.path=r,i.tail=s.next={},s},n.once=function(t,e,r){var o=n.listen(t,e,r);return o.times=1,o},n.unlisten=function(t,e,n,r){var o,i,s=t.__listeners__;if(s&&(o=s[e]))for(;(i=o)&&(o=o.next);)if(o==n||o.listener==n){i.next=o.next,o.listener=null;break}},n.emit=function(t,e,n){var r;(r=t.__listeners__)&&(r[e]&&i(0,n,r[e]),r.all&&i(0,[e,n],r.all))},n.observeProperty=function(t,e,r,o,i){return i&&"object"==typeof i&&n.unlisten(i,"all",t,r),o&&"object"==typeof o&&n.listen(o,"all",t,r),this},t.exports=n},function(t,e,n){t.exports=n(8)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(0);r.Pointer=function(){return this._button=-1,this._event={x:0,y:0,type:"uninitialized"},this},r.Pointer.prototype.button=function(){return this._button},r.Pointer.prototype.touch=function(){return this._touch},r.Pointer.prototype.update=function(t){return this._event=t,this._dirty=!0,this},r.Pointer.prototype.process=function(){var t=this._event;if(this._dirty)if(this._prevEvent=t,this._dirty=!1,"mousedown"==t.type){if(this._button=t.button,this._touch&&0!=this._button)return;this._touch&&this._touch.cancel(),this._touch=new r.Touch(t,this),this._touch.mousedown(t,t)}else"mousemove"==t.type?this._touch&&this._touch.mousemove(t,t):"mouseup"==t.type&&(this._button=-1,this._touch&&this._touch.button()==t.button&&(this._touch.mouseup(t,t),this._touch=null));else this._touch&&this._touch.idle();return this},r.Pointer.prototype.x=function(){return this._event.x},r.Pointer.prototype.y=function(){return this._event.y}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}let o=n(5).ucs2;function i(t,e){this._name=t,this._cmap=this.compile_map(e)}Object.defineProperty(i.prototype,"name",{get:function(){return this._name},configurable:!0}),i.prototype.compile_map=function(t){let e={};for(let n,i=0,s=r(t),u=s.length;i<u;i++){n=s[i];let t=o.decode(n[0])[0],r=o.decode(n[1])[0];for(let i=o.decode(n[2]||n[1])[0],s=r,u=i-s;u>0?s<=i:s>=i;u>0?s++:s--){let n=t-r+s;e[s]=n}}return e},i.prototype.apply=function(t){let e=[];for(let n,i=0,s=r(o.decode(t)),u=s.length;i<u;i++)n=s[i],this._cmap[n]?e.push(this._cmap[n]):e.push(n);return o.encode(e)},Object.defineProperty(i.prototype,"debug",{get:function(){var t=this;let e=Object.keys(t._cmap);e.sort((function(t,e){return t-e}));let n=e.map((function(e){return t._cmap[e]}));return o.encode(n)},configurable:!0}),e.TextTransform=i},function(t,e,n){(function(t,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var u,a=2147483647,h=36,c=1,l=26,p=38,d=700,f=72,_=128,g="-",m=/^xn--/,y=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=h-c,x=Math.floor,S=String.fromCharCode;function A(t){throw new RangeError(T[t])}function w(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function E(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+w((t=t.replace(v,".")).split("."),e).join(".")}function C(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function k(t){return w(t,(function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=S(t)})).join("")}function M(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,n){var r=0;for(t=n?x(t/d):t>>1,t+=x(t/e);t>b*l>>1;r+=h)t=x(t/b);return x(r+(b+1)*t/(t+p))}function F(t){var e,n,r,o,i,s,u,p,d,m,y,v=[],T=t.length,b=0,S=_,w=f;for((n=t.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&A("not-basic"),v.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<T;){for(i=b,s=1,u=h;o>=T&&A("invalid-input"),((p=(y=t.charCodeAt(o++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:h)>=h||p>x((a-b)/s))&&A("overflow"),b+=p*s,!(p<(d=u<=w?c:u>=w+l?l:u-w));u+=h)s>x(a/(m=h-d))&&A("overflow"),s*=m;w=O(b-i,e=v.length+1,0==i),x(b/e)>a-S&&A("overflow"),S+=x(b/e),b%=e,v.splice(b++,0,S)}return k(v)}function N(t){var e,n,r,o,i,s,u,p,d,m,y,v,T,b,w,E=[];for(v=(t=C(t)).length,e=_,n=0,i=f,s=0;s<v;++s)(y=t[s])<128&&E.push(S(y));for(r=o=E.length,o&&E.push(g);r<v;){for(u=a,s=0;s<v;++s)(y=t[s])>=e&&y<u&&(u=y);for(u-e>x((a-n)/(T=r+1))&&A("overflow"),n+=(u-e)*T,e=u,s=0;s<v;++s)if((y=t[s])<e&&++n>a&&A("overflow"),y==e){for(p=n,d=h;!(p<(m=d<=i?c:d>=i+l?l:d-i));d+=h)w=p-m,b=h-m,E.push(S(M(m+w%b,0))),p=x(w/b);E.push(S(M(p,0))),i=O(n,T,r==o),n=0,++r}++n,++e}return E.join("")}u={version:"1.4.1",ucs2:{decode:C,encode:k},decode:F,encode:N,toASCII:function(t){return E(t,(function(t){return y.test(t)?"xn--"+N(t):t}))},toUnicode:function(t){return E(t,(function(t){return m.test(t)?F(t.slice(4).toLowerCase()):t}))}},void 0===(o=function(){return u}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(21)(t),n(2))},function(t,e,n){n(7),t.exports=n(23)},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var o=n(1),i=o.createTagList,s=o.createElementFactory(),u=o.createTagScope(),a=n(18).TransformedText,h=n(19).TransformDebugger,c=n(20).TextTransforms,l=u.defineTag("App",(function(t){t.prototype.setup=function(){return this._text="Happy New Year 2020!",this._debug=!1},t.prototype.render=function(){var t=this.$,e=this;return e.$open(0).setChildren([t[0]||s("header",t,0,e).setText("Unicodizer!"),t[1]||s("p",t,1,e).setText("Text goes in. Fancy Unicode goes out. Enjoy."),(t[2]||s("input",t,2,e).setType("text")).bindData(e,"_text").end(),(t[3]||s("p",t,3,e).setContent(t[4]||s("label",t,4,3).setContent(["Debug mode",t[5]||s("input",t,5,4).setType("checkbox")],2),2)).end((t[5].bindData(e,"_debug").end(),!0)),e._debug?o.static([t[6]||s("h2",t,6,e).setText("Debug"),function(t){for(let e=0,n=r(c),o=t.taglen=n.length;e<o;e++)(t[e]||s(h,t,e)).setMap(n[e]).end();return t}(t[7]||i(t,7))],1,1):void 0,t[8]||s("h2",t,8,e).setText("Fancy"),function(t){for(let n=0,o=r(c),i=t.taglen=o.length;n<i;n++)(t[n]||s(a,t,n)).setMap(o[n]).setText(e._text).end();return t}(t[9]||i(t,9))],1).synced()}}));o.mount(s(l).end())},function(t,e,n){(function(e){var r=n(0),o=!1,i="undefined"!=typeof window?window:void 0!==e?e:null;i&&i.Imba?(console.warn("Imba v"+i.Imba.VERSION+" is already loaded."),r=i.Imba):i&&(i.Imba=r,o=!0,i.define&&i.define.amd&&i.define("imba",[],(function(){return r}))),t.exports=r,n(9),n(10),o&&r.EventManager.activate()}).call(this,n(2))},function(t,e,n){var r,o,i=n(0);function s(){var t=this;t._queue=[],t._stage=-1,t._scheduled=!1,t._ticker=function(e){return t._scheduled=!1,t.tick(e)}}o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitRequestAnimationFrame,(r=window.requestAnimationFrame)||(r=window.webkitRequestAnimationFrame),r||(r=window.mozRequestAnimationFrame),r||(r=function(t){return setTimeout(t,1e3/60)}),s.prototype.stage=function(t){return this._stage},s.prototype.setStage=function(t){return this._stage=t,this},s.prototype.queue=function(t){return this._queue},s.prototype.setQueue=function(t){return this._queue=t,this},s.prototype.add=function(t,e){if((e||-1==this._queue.indexOf(t))&&this._queue.push(t),!this._scheduled)return this.schedule()},s.prototype.tick=function(t){var e,n=this._queue;if(this._ts||(this._ts=t),this._dt=t-this._ts,this._ts=t,this._queue=[],this._stage=1,this.before(),n.length)for(let t,r=0,o=(e=n)?e.toArray?e.toArray():e:[],i=o.length;r<i;r++)t=o[r],t instanceof Function?t(this._dt,this):t.tick&&t.tick(this._dt,this);return this._stage=2,this.after(),this._stage=this._scheduled?0:-1,this},s.prototype.schedule=function(){return this._scheduled||(this._scheduled=!0,-1==this._stage&&(this._stage=0),r(this._ticker)),this},s.prototype.before=function(){return this},s.prototype.after=function(){return i.TagManager&&i.TagManager.refresh(),this},i.TICKER=new s,i.SCHEDULERS=[],i.ticker=function(){return i.TICKER},i.requestAnimationFrame=function(t){return r(t)},i.cancelAnimationFrame=function(t){return o(t)};var u=0;i.commit=function(t){u++,i.emit(i,"commit",null!=t?[t]:void 0),0==--u&&i.TagManager&&i.TagManager.refresh()},i.Scheduler=function(t){var e=this;e._id=a++,e._target=t,e._marked=!1,e._active=!1,e._marker=function(){return e.mark()},e._ticker=function(t){return e.tick(t)},e._dt=0,e._frame={},e._scheduled=!1,e._timestamp=0,e._ticks=0,e._flushes=0,e.onevent=e.onevent.bind(e)};var a=0;i.Scheduler.event=function(t){return i.emit(i,"event",t)},i.Scheduler.prototype.__raf={watch:"rafDidSet",name:"raf"},i.Scheduler.prototype.raf=function(t){return this._raf},i.Scheduler.prototype.setRaf=function(t){var e=this.raf();return t!=e&&(this._raf=t),t!=e&&this.rafDidSet&&this.rafDidSet(t,e,this.__raf),this},i.Scheduler.prototype.__interval={watch:"intervalDidSet",name:"interval"},i.Scheduler.prototype.interval=function(t){return this._interval},i.Scheduler.prototype.setInterval=function(t){var e=this.interval();return t!=e&&(this._interval=t),t!=e&&this.intervalDidSet&&this.intervalDidSet(t,e,this.__interval),this},i.Scheduler.prototype.__events={watch:"eventsDidSet",name:"events"},i.Scheduler.prototype.events=function(t){return this._events},i.Scheduler.prototype.setEvents=function(t){var e=this.events();return t!=e&&(this._events=t),t!=e&&this.eventsDidSet&&this.eventsDidSet(t,e,this.__events),this},i.Scheduler.prototype.marked=function(t){return this._marked},i.Scheduler.prototype.setMarked=function(t){return this._marked=t,this},i.Scheduler.prototype.rafDidSet=function(t){return t&&this._active&&this.requestTick(),this},i.Scheduler.prototype.intervalDidSet=function(t){return clearInterval(this._intervalId),this._intervalId=null,t&&this._active&&(this._intervalId=setInterval(this.oninterval.bind(this),t)),this},i.Scheduler.prototype.eventsDidSet=function(t,e){return this._active&&t&&!e?i.listen(i,"commit",this,"onevent"):!t&&e?i.unlisten(i,"commit",this,"onevent"):void 0},i.Scheduler.prototype.active=function(){return this._active},i.Scheduler.prototype.dt=function(){return this._dt},i.Scheduler.prototype.configure=function(t){return void 0===t&&(t={}),null!=t.raf&&this.setRaf(t.raf),null!=t.interval&&this.setInterval(t.interval),null!=t.events&&this.setEvents(t.events),this},i.Scheduler.prototype.mark=function(){return this._marked=!0,this._scheduled||this.requestTick(),this},i.Scheduler.prototype.flush=function(){return this._flushes++,this._target.tick(this),this._marked=!1,this},i.Scheduler.prototype.tick=function(t,e){return this._ticks++,this._dt=t,e&&(this._scheduled=!1),this.flush(),this._raf&&this._active&&this.requestTick(),this},i.Scheduler.prototype.requestTick=function(){return this._scheduled||(this._scheduled=!0,i.TICKER.add(this)),this},i.Scheduler.prototype.activate=function(t){return void 0===t&&(t=!0),this._active||(this._active=!0,this._commit=this._target.commit,this._target.commit=function(){return this},this._target&&this._target.flag&&this._target.flag("scheduled_"),i.SCHEDULERS.push(this),this._events&&i.listen(i,"commit",this,"onevent"),this._interval&&!this._intervalId&&(this._intervalId=setInterval(this.oninterval.bind(this),this._interval)),t?this.tick(0):this._raf&&this.requestTick()),this},i.Scheduler.prototype.deactivate=function(){if(this._active){this._active=!1,this._target.commit=this._commit;let t=i.SCHEDULERS.indexOf(this);t>=0&&i.SCHEDULERS.splice(t,1),this._events&&i.unlisten(i,"commit",this,"onevent"),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._target&&this._target.unflag&&this._target.unflag("scheduled_")}return this},i.Scheduler.prototype.track=function(){return this._marker},i.Scheduler.prototype.oninterval=function(){return this.tick(),i.TagManager.refresh(),this},i.Scheduler.prototype.onevent=function(t){return!this._events||this._marked?this:(this._events instanceof Function?this._events(t,this)&&this.mark():this._events instanceof Array?this._events.indexOf(t&&t.type||t)>=0&&this.mark():this.mark(),this)}},function(t,e,n){var r=n(0);n(11),n(12),r.TagManager=new r.TagManagerClass,n(13),n(14),n(3),n(15),n(16),n(17)},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var o=n(0);o.TagManagerClass=function(){this._inserts=0,this._removes=0,this._mounted=[],this._mountables=0,this._unmountables=0,this._unmounting=0},o.TagManagerClass.prototype.mounted=function(){return this._mounted},o.TagManagerClass.prototype.insert=function(t,e){this._inserts++,t&&t.mount&&this.regMountable(t)},o.TagManagerClass.prototype.remove=function(t,e){return this._removes++},o.TagManagerClass.prototype.changes=function(){return this._inserts+this._removes},o.TagManagerClass.prototype.mount=function(t){},o.TagManagerClass.prototype.refresh=function(t){if(void 0===t&&(t=!1),t||0!=this.changes())return(this._inserts&&this._mountables>this._mounted.length||t)&&this.tryMount(),(this._removes||t)&&this._mounted.length&&this.tryUnmount(),this._inserts=0,this._removes=0,this},o.TagManagerClass.prototype.unmount=function(t){return this},o.TagManagerClass.prototype.regMountable=function(t){if(!(t.FLAGS&o.TAG_MOUNTABLE))return t.FLAGS|=o.TAG_MOUNTABLE,this._mountables++},o.TagManagerClass.prototype.tryMount=function(){for(let t,e=0,n=r(document.body.querySelectorAll(".__mount")),o=n.length;e<o;e++)t=n[e],t&&t._tag&&-1==this._mounted.indexOf(t._tag)&&this.mountNode(t._tag);return this},o.TagManagerClass.prototype.mountNode=function(t){-1==this._mounted.indexOf(t)&&(this.regMountable(t),this._mounted.push(t),t.FLAGS|=o.TAG_MOUNTED,t.mount&&t.mount())},o.TagManagerClass.prototype.tryUnmount=function(){this._unmounting++;var t=[];document.body;for(let e,n=0,o=r(this._mounted),i=o.length;n<i;n++)e=o[n],e&&(document.documentElement.contains(e._dom)||(t.push(e),this._mounted[n]=null));if(this._unmounting--,t.length){this._mounted=this._mounted.filter((function(e){return e&&-1==t.indexOf(e)}));for(let e,n=0,r=t.length;n<r;n++)e=t[n],e.FLAGS=e.FLAGS&~o.TAG_MOUNTED,e.unmount&&e._dom?e.unmount():e._scheduler&&e.unschedule()}return this}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var o=n(0);n(3);var i=["keydown","keyup","keypress","textInput","input","change","submit","focusin","focusout","focus","blur","contextmenu","selectstart","dblclick","selectionchange","mousewheel","wheel","scroll","beforecopy","copy","beforepaste","paste","beforecut","cut","dragstart","drag","dragend","dragenter","dragover","dragleave","dragexit","drop","mouseup","mousedown","mouseenter","mouseleave","mouseout","mouseover","mousemove","transitionstart","transitionend","transitioncancel","animationstart","animationiteration","animationend"];o.EventManager=function(t,e){var n=this;e&&e.constructor===Object||(e={});var o=void 0!==e.events?e.events:[];n._shimFocusEvents=window.netscape&&void 0===t.onfocusin,n.setRoot(t),n.setListeners([]),n.setDelegators({}),n.setDelegator((function(t){return n.delegate(t),!0}));for(let t=0,e=r(o),i=e.length;t<i;t++)n.register(e[t]);return n},o.EventManager.prototype.root=function(t){return this._root},o.EventManager.prototype.setRoot=function(t){return this._root=t,this},o.EventManager.prototype.count=function(t){return this._count},o.EventManager.prototype.setCount=function(t){return this._count=t,this},o.EventManager.prototype.__enabled={default:!1,watch:"enabledDidSet",name:"enabled"},o.EventManager.prototype.enabled=function(t){return this._enabled},o.EventManager.prototype.setEnabled=function(t){var e=this.enabled();return t!=e&&(this._enabled=t),t!=e&&this.enabledDidSet&&this.enabledDidSet(t,e,this.__enabled),this},o.EventManager.prototype._enabled=!1,o.EventManager.prototype.listeners=function(t){return this._listeners},o.EventManager.prototype.setListeners=function(t){return this._listeners=t,this},o.EventManager.prototype.delegators=function(t){return this._delegators},o.EventManager.prototype.setDelegators=function(t){return this._delegators=t,this},o.EventManager.prototype.delegator=function(t){return this._delegator},o.EventManager.prototype.setDelegator=function(t){return this._delegator=t,this};var s=[];o.EventManager.prototype.enabledDidSet=function(t){return t?this.onenable():this.ondisable(),this},o.EventManager.bind=function(t){return o.Events?o.Events.autoregister(t):-1==s.indexOf(t)&&i.indexOf(t)>=0?s.push(t):void 0},o.EventManager.activate=function(){return o.Events?o.Events:(o.Events=new o.EventManager(o.document(),{events:[]}),o.POINTER||(o.POINTER=new o.Pointer),window&&void 0!==window.ontouchstart&&(o.Events.listen("touchstart",(function(t){return o.Touch.ontouchstart(t)})),o.Events.listen("touchmove",(function(t){return o.Touch.ontouchmove(t)})),o.Events.listen("touchend",(function(t){return o.Touch.ontouchend(t)})),o.Events.listen("touchcancel",(function(t){return o.Touch.ontouchcancel(t)}))),o.Events.register("click",(function(t){if(t.timeStamp-o.Touch.LastTimestamp>o.Touch.TapTimeout){t._imbaSimulatedTap=!0;var e=new o.Event(t);if(e.setType("tap"),e.process(),e._responder&&e.defaultPrevented)return t.preventDefault()}return o.Events.delegate(t)})),o.Events.listen("mousedown",(function(t){if(t.timeStamp-o.Touch.LastTimestamp>o.Touch.TapTimeout&&o.POINTER)return o.POINTER.update(t).process()})),o.Events.listen("mouseup",(function(t){if(t.timeStamp-o.Touch.LastTimestamp>o.Touch.TapTimeout&&o.POINTER)return o.POINTER.update(t).process()})),o.Events.register(["mousedown","mouseup"]),o.Events.register(s),o.Events.setEnabled(!0),o.Events)},o.EventManager.prototype.register=function(t,e){if(void 0===e&&(e=!0),t instanceof Array){for(let n=0,o=r(t),i=o.length;n<i;n++)this.register(o[n],e);return this}if(this.delegators()[t])return this;var n=this.delegators()[t]=e instanceof Function?e:this.delegator();return this.enabled()?this.root().addEventListener(t,n,!0):void 0},o.EventManager.prototype.autoregister=function(t){return-1==i.indexOf(t)?this:this.register(t)},o.EventManager.prototype.listen=function(t,e,n){return void 0===n&&(n=!0),this.listeners().push([t,e,n]),this.enabled()&&this.root().addEventListener(t,e,n),this},o.EventManager.prototype.delegate=function(t){return o.Event.wrap(t).process(),this._shimFocusEvents&&("focus"==t.type?o.Event.wrap(t).setType("focusin").process():"blur"==t.type&&o.Event.wrap(t).setType("focusout").process()),this},o.EventManager.prototype.create=function(t,e,n){n&&n.constructor===Object||(n={});var r=void 0!==n.data?n.data:null,i=void 0!==n.source?n.source:null,s=o.Event.wrap({type:t,target:e});return null!=r&&s.setData(r),i&&s.setSource(i),s},o.EventManager.prototype.trigger=function(){return this.create.apply(this,arguments).process()},o.EventManager.prototype.onenable=function(){for(let t,e,n=this.delegators(),r=0,o=Object.keys(n),i=o.length;r<i;r++)e=o[r],t=n[e],this.root().addEventListener(e,t,!0);for(let t,e=0,n=r(this.listeners()),o=n.length;e<o;e++)t=n[e],this.root().addEventListener(t[0],t[1],t[2]);return window.addEventListener("hashchange",o.commit),window.addEventListener("popstate",o.commit),this},o.EventManager.prototype.ondisable=function(){for(let t,e,n=this.delegators(),r=0,o=Object.keys(n),i=o.length;r<i;r++)e=o[r],t=n[e],this.root().removeEventListener(e,t,!0);for(let t,e=0,n=r(this.listeners()),o=n.length;e<o;e++)t=n[e],this.root().removeEventListener(t[0],t[1],t[2]);return window.removeEventListener("hashchange",o.commit),window.removeEventListener("popstate",o.commit),this}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var o=n(0);o.CSSKeyMap={},o.TAG_BUILT=1,o.TAG_SETUP=2,o.TAG_MOUNTING=4,o.TAG_MOUNTED=8,o.TAG_SCHEDULED=16,o.TAG_AWAKENED=32,o.TAG_MOUNTABLE=64,o.TAG_AUTOCLASS_GLOBALS=!0,o.TAG_AUTOCLASS_LOCALS=!0,o.TAG_AUTOCLASS_SVG=!0,o.document=function(){return window.document},o.root=function(){return o.getTagForDom(o.document().body)},o.static=function(t,e,n){return t._type=e,t.static=n,t},o.mount=function(t,e){return e||(e=o.document().body),e.appendChild(t.dom()),o.TagManager.insert(t,e),t.scheduler().configure({events:!0}).activate(!1),o.TagManager.refresh(),t},o.createTextNode=function(t){return t&&3==t.nodeType?t:o.document().createTextNode(t)},o.Tag=function(t,e){this.setDom(t),this.$=i.build(this),this.$up=this._owner_=e,this._tree_=null,this.FLAGS=0,this.build()},o.Tag.buildNode=function(){var t=o.document().createElement(this._nodeType||"div");if(this._classes){var e=this._classes.join(" ");e&&(t.className=e)}return t},o.Tag.createNode=function(){return(this._protoDom||(this._protoDom=this.buildNode())).cloneNode(!1)},o.Tag.build=function(t){return new this(this.createNode(),t)},o.Tag.dom=function(){return this._protoDom||(this._protoDom=this.buildNode())},o.Tag.end=function(){return this.commit(0)},o.Tag.inherit=function(t){return t._protoDom=null,this._nodeType?(t._nodeType=this._nodeType,t._classes=this._classes.slice(),t._flagName?t._classes.push(t._flagName):void 0):(t._nodeType=t._name,t._flagName=null,t._classes=[])},o.Tag.prototype.optimizeTagStructure=function(){var t=this.constructor;let e=Object.keys(this);e.indexOf("mount")>=0&&(t._classes&&-1==t._classes.indexOf("__mount")&&t._classes.push("__mount"),t._protoDom&&t._protoDom.classList.add("__mount"));for(let t,n=0,i=r(e),s=i.length;n<s;n++)t=i[n],/^on/.test(t)&&o.EventManager.bind(t.slice(2));return this},o.attr(o.Tag,"accesskey"),o.attr(o.Tag,"autocapitalize"),o.attr(o.Tag,"contenteditable"),o.attr(o.Tag,"contextmenu"),o.attr(o.Tag,"dir"),o.attr(o.Tag,"draggable"),o.attr(o.Tag,"dropzone"),o.attr(o.Tag,"hidden"),o.attr(o.Tag,"inputmode"),o.attr(o.Tag,"itemid"),o.attr(o.Tag,"itemprop"),o.attr(o.Tag,"itemref"),o.attr(o.Tag,"itemscope"),o.attr(o.Tag,"itemtype"),o.attr(o.Tag,"lang"),o.attr(o.Tag,"name"),o.attr(o.Tag,"role"),o.attr(o.Tag,"slot"),o.attr(o.Tag,"spellcheck"),o.attr(o.Tag,"tabindex"),o.Tag.prototype.title=function(t){return this.getAttribute("title")},o.Tag.prototype.setTitle=function(t){return this.setAttribute("title",t),this},o.attr(o.Tag,"translate"),o.Tag.prototype.dom=function(){return this._dom},o.Tag.prototype.setDom=function(t){return t._tag=this,this._dom=this._slot_=t,this},o.Tag.prototype.ref=function(){return this._ref},o.Tag.prototype.root=function(){return this._owner_?this._owner_.root():this},o.Tag.prototype.ref_=function(t){return this.flag(this._ref=t),this},o.Tag.prototype.setData=function(t){return this._data=t,this},o.Tag.prototype.data=function(){return this._data},o.Tag.prototype.bindData=function(t,e,n){return this.setData(n?t[e].apply(t,n):t[e])},o.Tag.prototype.setHtml=function(t){return this.html()!=t&&(this._dom.innerHTML=t),this},o.Tag.prototype.html=function(){return this._dom.innerHTML},o.Tag.prototype.on$=function(t,e,n){let r=this._on_||(this._on_=[]),i=r[t];return t<0&&(t=null==i?r[t]=r.length:i,i=r[t]),r[t]=e,i?e.state=i.state:(e.state={context:n},o.EventManager.bind(e[0])),this},o.Tag.prototype.setId=function(t){return null!=t&&(this.dom().id=t),this},o.Tag.prototype.id=function(){return this.dom().id},o.Tag.prototype.setAttribute=function(t,e){return this.dom().getAttribute(t)==e||(null!=e&&!1!==e?this.dom().setAttribute(t,e):this.dom().removeAttribute(t)),this},o.Tag.prototype.setNestedAttr=function(t,e,n,r){return this[t+"SetAttribute"]?this[t+"SetAttribute"](e,n,r):this.setAttributeNS(t,e,n),this},o.Tag.prototype.setAttributeNS=function(t,e,n){return this.getAttributeNS(t,e)!=n&&(null!=n&&!1!==n?this.dom().setAttributeNS(t,e,n):this.dom().removeAttributeNS(t,e)),this},o.Tag.prototype.removeAttribute=function(t){return this.dom().removeAttribute(t)},o.Tag.prototype.getAttribute=function(t){return this.dom().getAttribute(t)},o.Tag.prototype.getAttributeNS=function(t,e){return this.dom().getAttributeNS(t,e)},o.Tag.prototype.set=function(t,e,n){let r=o.toSetter(t);return this[r]instanceof Function?this[r](e,n):this._dom.setAttribute(t,e),this},o.Tag.prototype.get=function(t){return this._dom.getAttribute(t)},o.Tag.prototype.setContent=function(t,e){return this.setChildren(t,e),this},o.Tag.prototype.setChildren=function(t,e){return this._tree_=t,this},o.Tag.prototype.setTemplate=function(t){return this._template||this.render==o.Tag.prototype.render&&(this.render=this.renderTemplate),this.template=this._template=t,this},o.Tag.prototype.template=function(){return null},o.Tag.prototype.renderTemplate=function(){var t=this.template();return t!=this&&this.setChildren(t),this},o.Tag.prototype.removeChild=function(t){var e=this.dom(),n=t._slot_||t;return n&&n.parentNode==e&&(o.TagManager.remove(n._tag||n,this),e.removeChild(n)),this},o.Tag.prototype.removeAllChildren=function(){if(this._dom.firstChild)for(var t;t=this._dom.firstChild;)o.TagManager.remove(t._tag||t,this),this._dom.removeChild(t);return this._tree_=this._text_=null,this},o.Tag.prototype.appendChild=function(t){return"string"==typeof t||t instanceof String?this.dom().appendChild(o.document().createTextNode(t)):t&&(this.dom().appendChild(t._slot_||t),o.TagManager.insert(t._tag||t,this)),this},o.Tag.prototype.insertBefore=function(t,e){return("string"==typeof t||t instanceof String)&&(t=o.document().createTextNode(t)),t&&e&&(this.dom().insertBefore(t._slot_||t,e._slot_||e),o.TagManager.insert(t._tag||t,this)),this},o.Tag.prototype.detachFromParent=function(){return this._slot_==this._dom&&(this._slot_=this._dom._placeholder_||(this._dom._placeholder_=o.document().createComment("node")),this._slot_._tag||(this._slot_._tag=this),this._dom.parentNode&&(o.TagManager.remove(this,this._dom.parentNode),this._dom.parentNode.replaceChild(this._slot_,this._dom))),this},o.Tag.prototype.attachToParent=function(){if(this._slot_!=this._dom){let t=this._slot_;this._slot_=this._dom,t&&t.parentNode&&(o.TagManager.insert(this),t.parentNode.replaceChild(this._dom,t))}return this},o.Tag.prototype.orphanize=function(){var t;return(t=this.parent())&&t.removeChild(this),this},o.Tag.prototype.text=function(t){return this._dom.textContent},o.Tag.prototype.setText=function(t){return this._tree_=t,this._dom.textContent=null==t||!1===this.text()?"":t,this},o.Tag.prototype.dataset=function(t,e){if(t instanceof Object){for(let e,n,r=0,o=Object.keys(t),i=o.length;r<i;r++)n=o[r],e=t[n],this.dataset(n,e);return this}if(2==arguments.length)return this.setAttribute("data-"+t,e),this;if(t)return this.getAttribute("data-"+t);var n=this.dom().dataset;if(!n){n={};for(let t,e=0,i=r(this.dom().attributes),s=i.length;e<s;e++)t=i[e],"data-"==t.name.substr(0,5)&&(n[o.toCamelCase(t.name.slice(5))]=t.value)}return n},o.Tag.prototype.render=function(){return this},o.Tag.prototype.build=function(){return this},o.Tag.prototype.setup=function(){return this},o.Tag.prototype.commit=function(){return!1!==this.beforeRender()&&this.render(),this},o.Tag.prototype.beforeRender=function(){return this},o.Tag.prototype.tick=function(){return!1!==this.beforeRender()&&this.render(),this},o.Tag.prototype.end=function(){return this.setup(),this.commit(0),this.end=o.Tag.end,this},o.Tag.prototype.$open=function(t){return t!=this._context_&&(this._tree_=null,this._context_=t),this},o.Tag.prototype.synced=function(){return this},o.Tag.prototype.awaken=function(){return this},o.Tag.prototype.flags=function(){return this._dom.classList},o.Tag.prototype.flag=function(t,e){return 2==arguments.length?this._dom.classList.contains(t)!=!!e&&this._dom.classList.toggle(t):this._dom.classList.contains(t)||this._dom.classList.add(t),this},o.Tag.prototype.unflag=function(t){return this._dom.classList.remove(t),this},o.Tag.prototype.toggleFlag=function(t){return this._dom.classList.toggle(t),this},o.Tag.prototype.hasFlag=function(t){return this._dom.classList.contains(t)},o.Tag.prototype.flagIf=function(t,e){var n=this._flags_||(this._flags_={});let r=n[t];return e&&!r?(this._dom.classList.add(t),n[t]=!0):r&&!e&&(this._dom.classList.remove(t),n[t]=!1),this},o.Tag.prototype.setFlag=function(t,e){let n=this._namedFlags_||(this._namedFlags_={}),r=n[t];return r!=e&&(r&&this.unflag(r),e&&this.flag(e),n[t]=e),this},o.Tag.prototype.scheduler=function(){return null==this._scheduler?this._scheduler=new o.Scheduler(this):this._scheduler},o.Tag.prototype.schedule=function(t){return void 0===t&&(t={events:!0}),this.scheduler().configure(t).activate(),this},o.Tag.prototype.unschedule=function(){return this._scheduler&&this.scheduler().deactivate(),this},o.Tag.prototype.parent=function(){return o.getTagForDom(this.dom().parentNode)},o.Tag.prototype.children=function(t){let e=[];for(let t,n=0,i=r(this._dom.children),s=i.length;n<s;n++)t=i[n],e.push(t._tag||o.getTagForDom(t));return e},o.Tag.prototype.querySelector=function(t){return o.getTagForDom(this._dom.querySelector(t))},o.Tag.prototype.querySelectorAll=function(t){var e=[];for(let n=0,i=r(this._dom.querySelectorAll(t)),s=i.length;n<s;n++)e.push(o.getTagForDom(i[n]));return e},o.Tag.prototype.matches=function(t){var e;return t instanceof Function?t(this):(t.query instanceof Function&&(t=t.query()),(e=this._dom.matches||this._dom.matchesSelector||this._dom.webkitMatchesSelector||this._dom.msMatchesSelector||this._dom.mozMatchesSelector)?e.call(this._dom,t):void 0)},o.Tag.prototype.closest=function(t){return o.getTagForDom(this._dom.closest(t))},o.Tag.prototype.contains=function(t){return this.dom().contains(t._dom||t)},o.Tag.prototype.log=function(){for(var t=arguments,e=t.length,n=new Array(e>0?e:0);e>0;)n[e-1]=t[--e];return n.unshift(console),Function.prototype.call.apply(console.log,n),this},o.Tag.prototype.css=function(t,e,n){if(t instanceof Object){for(let e,n,r=0,o=Object.keys(t),i=o.length;r<i;r++)n=o[r],e=t[n],this.css(n,e);return this}var r=o.CSSKeyMap[t]||t;if(null==e)this.dom().style.removeProperty(r);else{if(null==e&&1==arguments.length)return this.dom().style[r];r.match(/^--/)?this.dom().style.setProperty(r,e):("number"==typeof e||e instanceof Number)&&(r.match(/width|height|left|right|top|bottom/)||n&&n.px)?this.dom().style[r]=e+"px":this.dom().style[r]=e}return this},o.Tag.prototype.setStyle=function(t){return this.setAttribute("style",t)},o.Tag.prototype.style=function(){return this.getAttribute("style")},o.Tag.prototype.trigger=function(t,e){return void 0===e&&(e={}),o.Events.trigger(t,this,{data:e})},o.Tag.prototype.focus=function(){return this.dom().focus(),this},o.Tag.prototype.blur=function(){return this.dom().blur(),this},o.Tag.prototype.toString=function(){return this.dom().outerHTML},o.Tag.prototype.initialize=o.Tag,o.SVGTag=function(){return o.Tag.apply(this,arguments)},o.subclass(o.SVGTag,o.Tag),o.SVGTag.namespaceURI=function(){return"http://www.w3.org/2000/svg"},o.SVGTag.buildNode=function(){var t=o.document().createElementNS(this.namespaceURI(),this._nodeType);if(this._classes){var e=this._classes.join(" ");e&&(t.className.baseVal=e)}return t},o.SVGTag.inherit=function(t){if(t._protoDom=null,this==o.SVGTag)return t._nodeType=t._name,t._classes=[];t._nodeType=this._nodeType;var e=(this._classes||[]).slice(0);return o.TAG_AUTOCLASS_SVG&&t._flagName&&e.push(t._flagName),t._classes=e},o.HTML_TAGS="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr".split(" "),o.HTML_TAGS_UNSAFE="article aside header section".split(" "),o.HTML_ATTRS={a:"href target hreflang media download rel type ping referrerpolicy",audio:"autoplay controls crossorigin loop muted preload src",area:"alt coords download href hreflang ping referrerpolicy rel shape target",base:"href target",video:"autoplay buffered controls crossorigin height loop muted preload poster src width playsinline",fieldset:"disabled form name",form:"method action enctype autocomplete target",button:"autofocus type form formaction formenctype formmethod formnovalidate formtarget value name",embed:"height src type width",input:"accept disabled form list max maxlength min minlength pattern required size step type",label:"accesskey for form",img:"alt src srcset crossorigin decoding height importance intrinsicsize ismap referrerpolicy sizes width usemap",link:"rel type href media",iframe:"allow allowfullscreen allowpaymentrequest height importance name referrerpolicy sandbox src srcdoc width frameborder align longdesc scrolling",meta:"property content charset desc http-equiv color-scheme name scheme",map:"name",optgroup:"label",option:"label",output:"for form",object:"type data width height",param:"name type value valuetype",progress:"max",script:"src type async defer crossorigin integrity nonce language nomodule",select:"size form multiple",source:"sizes src srcset type media",textarea:"rows cols minlength maxlength form wrap",track:"default kind label src srclang",td:"colspan rowspan headers",th:"colspan rowspan"},o.HTML_PROPS={input:"autofocus autocomplete autocapitalize autocorrect value placeholder required disabled multiple checked readOnly spellcheck",textarea:"autofocus autocomplete autocapitalize autocorrect value placeholder required disabled multiple checked readOnly spellcheck",form:"novalidate",fieldset:"disabled",button:"disabled",select:"autofocus disabled required readOnly multiple",option:"disabled selected value",optgroup:"disabled",progress:"value",fieldset:"disabled",canvas:"width height"};function i(t){this._tag=t}function s(t,e,n){this.cache$=t,this.key$=e,this.par$=n,this.i$=0}function u(t){this._ns=t,this._flags=t?["_"+t]:[]}o.Tags=function(){},o.Tags.prototype.__clone=function(t){var e=Object.create(this);return e._parent=this,e},o.Tags.prototype.ns=function(t){return this["_"+t.toUpperCase()]||this.defineNamespace(t)},o.Tags.prototype.defineNamespace=function(t){var e=Object.create(this);return e._parent=this,e._ns=t,this["_"+t.toUpperCase()]=e,e},o.Tags.prototype.baseType=function(t,e){return o.indexOf(t,o.HTML_TAGS)>=0?"element":"div"},o.Tags.prototype.defineTag=function(t,e,n,r){var i,s;null==r&&"function"==typeof n&&(r=n,n=""),null==n&&(n=""),r&&r._nodeType&&(n=r,r=null),this[e]&&console.log("tag already exists?",e);var u=e;let a=u.indexOf(":");a>=0&&(s=e.substr(0,a),u=e.substr(a+1),"svg"!=s||n||(n="svg:element")),n||(n=this.baseType(e));let h="string"==typeof n||n instanceof String?this.findTagType(n):n,c=function(t,e){return this.initialize(t,e),this};return c._name=u,c._flagName=null,"#"==u[0]?(o.SINGLETONS[u.slice(1)]=c,this[u]=c):u[0]==u[0].toUpperCase()?o.TAG_AUTOCLASS_LOCALS&&(c._flagName=u):(o.TAG_AUTOCLASS_GLOBALS&&(c._flagName="_"+e.replace(/[_\:]/g,"-")),this[e]=c),function(t,e){for(let n,r,o=0,i=Object.keys(e),s=i.length;o<s;o++)r=i[o],n=e[r],null==t[r]?t[r]=n:t[r];t.prototype=Object.create(e.prototype),t.__super__=t.prototype.__super__=e.prototype,t.prototype.constructor=t,e.inherit&&e.inherit(t)}(c,h),t&&t.scope&&t.scope.flags()&&(i=c._classes).push.apply(i,t.scope.flags()),r&&(r.call(c,c,c.TAGS||this),c.defined&&c.defined(),this.optimizeTag(c)),c},o.Tags.prototype.extendTag=function(t,e,n,r){null==r&&"function"==typeof n&&(r=n,n=""),null==n&&(n="");var o="string"==typeof e||e instanceof String?this.findTagType(e):e;return r&&r&&r.call(o,o,o.prototype),o.extended&&o.extended(),this.optimizeTag(o),o},o.Tags.prototype.optimizeTag=function(t){var e;return(e=t.prototype)&&e.optimizeTagStructure&&e.optimizeTagStructure()},o.Tags.prototype.findTagType=function(t){var e,n;if(!t)throw"Expected a valid tag but got falsy type, did you forget to export it?";let i=this[t];if(!i)if("svg:"==t.substr(0,4))i=this.defineTag(null,t,"svg:element");else if(o.HTML_TAGS.indexOf(t)>=0){if(i=this.defineTag(null,t,"element"),e=o.HTML_ATTRS[t])for(let t=0,n=r(e.split(" ")),s=n.length;t<s;t++)o.attr(i,n[t]);if(n=o.HTML_PROPS[t])for(let t=0,e=r(n.split(" ")),s=e.length;t<s;t++)o.attr(i,e[t],{dom:!0})}return i},o.createElement=function(t,e,n,r){var i,u=t;u=t instanceof Function?t:o.TAGS.findTagType(t),i=e instanceof s?e.par$:r instanceof o.Tag?r:e&&null!=r?e[r]:e&&e._tag||e;var a=u.build(i);return e instanceof s&&(e.i$++,a.$key=n),e&&null!=n&&(e[n]=a),a},o.createElementFactory=function(t){return t?function(e,n,r,i){var s=o.createElement(e,n,r,i);return s._dom.classList.add("_"+t),s}:o.createElement},o.createTagScope=function(t){return new u(t)},o.createTagCache=function(t){var e=[];return e._tag=t,e},o.createTagMap=function(t,e,n){var r=new s(t,e,null!=n?n:t._tag);return t[e]=r,r},o.createTagList=function(t,e,n){var r=[];return r._type=4,r._tag=null!=n?n:t._tag,t[e]=r,r},o.createTagLoopResult=function(t,e,n){var r=[];return r._type=5,r.cache={i$:0},r},i.build=function(t){var e=[];return e._tag=t,e},s.prototype.$iter=function(){var t=[];return t._type=5,t.cache=this,t},s.prototype.$prune=function(t){let e=this.cache$,n=this.key$,o=new s(e,n,this.par$);for(let e,n=0,i=r(t),s=i.length;n<s;n++)e=i[n],o[e.key$]=e;return o.i$=t.length,e[n]=o},u.prototype.ns=function(t){return this._ns},u.prototype.setNs=function(t){return this._ns=t,this},u.prototype.flags=function(t){return this._flags},u.prototype.setFlags=function(t){return this._flags=t,this},u.prototype.defineTag=function(t,e,n){return null==n&&"function"==typeof e&&(n=e,e=""),null==e&&(e=""),o.TAGS.defineTag({scope:this},t,e,n)},u.prototype.extendTag=function(t,e){return o.TAGS.extendTag({scope:this},t,e)},o.TagMap=s,o.TagCache=i,o.SINGLETONS={},o.TAGS=new o.Tags,o.TAGS.element=o.TAGS.htmlelement=o.Tag,o.TAGS["svg:element"]=o.SVGTag,o.attr(o.Tag,"is"),o.defineTag=function(t,e,n){return null==n&&"function"==typeof e&&(n=e,e=""),null==e&&(e=""),o.TAGS.defineTag({},t,e,n)},o.extendTag=function(t,e){return o.TAGS.extendTag({},t,e)},o.getTagSingleton=function(t){var e,n,r;return(e=o.SINGLETONS[t])?e&&e.Instance?e.Instance:(n=o.document().getElementById(t))?((r=e.Instance=new e(n)).awaken(n),r):((n=e.createNode()).id=t,(r=e.Instance=new e(n)).end().awaken(n),r):(n=o.document().getElementById(t))?o.getTagForDom(n):void 0};var a="undefined"!=typeof SVGElement;o.getTagForDom=function(t){if(!t)return null;if(t._dom)return t;if(t._tag)return t._tag;if(!t.nodeName)return null;var e=t.nodeName.toLowerCase(),n=o.TAGS;return t.id&&o.SINGLETONS[t.id]?o.getTagSingleton(t.id):new(a&&t instanceof SVGElement?n.findTagType("svg:"+e):o.HTML_TAGS.indexOf(e)>=0?n.findTagType(e):o.Tag)(t,null).awaken(t)},o.Tag},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var o=n(0);function i(t,e,n){this._node=t,this._path=e,this._args=n,this._args&&(this._setter=o.toSetter(this._path))}o.createTagScope().defineTag("fragment","element",(function(t){t.createNode=function(){return o.document().createDocumentFragment()}})),o.createTagScope().extendTag("html",(function(t){t.prototype.parent=function(){return null}})),o.createTagScope().extendTag("canvas",(function(t){t.prototype.context=function(t){return void 0===t&&(t="2d"),this.dom().getContext(t)}})),i.bind=function(t,e,n,r){return(t._data||(t._data=new this(t,n,r))).bind(e,n,r),t},i.prototype.bind=function(t,e,n){return t!=this._data&&(this._data=t),this},i.prototype.getFormValue=function(){return this._setter?this._data[this._path]():this._data[this._path]},i.prototype.setFormValue=function(t){return this._setter?this._data[this._setter](t):this._data[this._path]=t};var s=function(t){return t&&t.splice&&t.sort};o.createTagScope().extendTag("input",(function(t){t.prototype.lazy=function(t){return this._lazy},t.prototype.setLazy=function(t){return this._lazy=t,this},t.prototype.number=function(t){return this._number},t.prototype.setNumber=function(t){return this._number=t,this},t.prototype.bindData=function(t,e,n){return i.bind(this,t,e,n),this},t.prototype.checked=function(){return this._dom.checked},t.prototype.setChecked=function(t){return!!t!=this._dom.checked&&(this._dom.checked=!!t),this},t.prototype.setValue=function(t,e){return null!=this._localValue&&null!=e||(this.dom().value=this._value=t,this._localValue=void 0),this},t.prototype.setType=function(t){return this.dom().type=this._type=t,this},t.prototype.value=function(){let t=this._dom.value;return this._number&&t?parseFloat(t):t},t.prototype.oninput=function(t){let e=this._dom.value;this._localValue=e,this._data&&!this.lazy()&&"radio"!=this.type()&&"checkbox"!=this.type()&&this._data.setFormValue(this.value(),this)},t.prototype.onchange=function(t){if(this._modelValue=this._localValue=void 0,this.data()){if("radio"!=this.type()&&"checkbox"!=this.type())return this._data.setFormValue(this.value());{let t=this.checked(),e=this._data.getFormValue(this),n=null!=this._value?this._value:this.value();if("radio"==this.type())return this._data.setFormValue(n,this);if("on"==this.dom().value||null==this.dom().value)return this._data.setFormValue(!!t,this);if(!s(e))return this._data.setFormValue(n,this);{let r=e.indexOf(n);if(t&&-1==r)return e.push(n);if(!t&&r>=0)return e.splice(r,1)}}}},t.prototype.onblur=function(t){return this._localValue=void 0},t.prototype.end=function(){if(void 0!==this._localValue||!this._data)return this;let t=this._data.getFormValue(this);if(t===this._modelValue)return this;if(s(t)||(this._modelValue=t),"radio"==this.type()||"checkbox"==this.type()){let e=this._value,n=s(t)?t.indexOf(e)>=0:"on"==this.dom().value||null==this.dom().value?!!t:t==this._value;this.setChecked(n)}else this._dom.value=t;return this}})),o.createTagScope().extendTag("textarea",(function(t){t.prototype.lazy=function(t){return this._lazy},t.prototype.setLazy=function(t){return this._lazy=t,this},t.prototype.bindData=function(t,e,n){return i.bind(this,t,e,n),this},t.prototype.setValue=function(t,e){return null!=this._localValue&&null!=e||(this.dom().value=t,this._localValue=void 0),this},t.prototype.oninput=function(t){let e=this._dom.value;if(this._localValue=e,this._data&&!this.lazy())return this._data.setFormValue(this.value(),this)},t.prototype.onchange=function(t){if(this._localValue=void 0,this._data)return this._data.setFormValue(this.value(),this)},t.prototype.onblur=function(t){return this._localValue=void 0},t.prototype.render=function(){if(null==this._localValue&&this._data){if(this._data){let t=this._data.getFormValue(this);this._dom.value=null!=t?t:""}return this}}})),o.createTagScope().extendTag("option",(function(t){t.prototype.setValue=function(t){return t!=this._value&&(this.dom().value=this._value=t),this},t.prototype.value=function(){return this._value||this.dom().value}})),o.createTagScope().extendTag("select",(function(t){t.prototype.bindData=function(t,e,n){return i.bind(this,t,e,n),this},t.prototype.setValue=function(t,e){this._value;return this._value=t,e||this.syncValue(t),this},t.prototype.syncValue=function(t){let e=this._syncValue;if(this.multiple()&&t instanceof Array){if(e instanceof Array&&function(t,e){let n=t.length,r=0;if(n!=e.length)return!1;for(;r++<n;)if(t[r]!=e[r])return!1;return!0}(e,t))return this;t=t.slice()}if(this._syncValue=t,"object"==typeof t){let e=this.multiple()&&t instanceof Array;for(let n,o=0,i=r(this.dom().options),s=i.length;o<s;o++){n=i[o];let r=n._tag?n._tag.value():n.value;if(e)n.selected=t.indexOf(r)>=0;else if(t==r){this.dom().selectedIndex=o;break}}}else this.dom().value=t;return this},t.prototype.value=function(){if(this.multiple()){let t=[];for(let e,n=0,o=r(this.dom().selectedOptions),i=o.length;n<i;n++)e=o[n],t.push(e._tag?e._tag.value():e.value);return t}{let t=this.dom().selectedOptions[0];return t?t._tag?t._tag.value():t.value:null}},t.prototype.onchange=function(t){if(this._data)return this._data.setFormValue(this.value(),this)},t.prototype.end=function(){return this._data&&this.setValue(this._data.getFormValue(this),1),this._value!=this._syncValue&&this.syncValue(this._value),this}}))},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var o=n(0);o.Touch=function(t,e){return this.setEvent(t),this.setData({}),this.setActive(!0),this._button=t&&t.button||0,this._suppress=!1,this._captured=!1,this.setBubble(!1),e=e,this.setUpdates(0),this},o.Touch.LastTimestamp=0,o.Touch.TapTimeout=50;var i=[],s=0,u={};o.Touch.count=function(){return s},o.Touch.lookup=function(t){return t&&(t.__touch__||u[t.identifier])},o.Touch.release=function(t,e){u[t.identifier],delete u[t.identifier],t.__touch__,delete t.__touch__},o.Touch.ontouchstart=function(t){for(let n,o=0,a=r(t.changedTouches),h=a.length;o<h;o++)if(n=a[o],!this.lookup(n)){var e=u[n.identifier]=new this(t);n.__touch__=e,i.push(e),s++,e.touchstart(t,n)}return this},o.Touch.ontouchmove=function(t){var e;for(let n,o=0,i=r(t.changedTouches),s=i.length;o<s;o++)n=i[o],(e=this.lookup(n))&&e.touchmove(t,n);return this},o.Touch.ontouchend=function(t){var e;for(let n,o=0,i=r(t.changedTouches),u=i.length;o<u;o++)n=i[o],(e=this.lookup(n))&&(e.touchend(t,n),this.release(n,e),s--);return this},o.Touch.ontouchcancel=function(t){var e;for(let n,o=0,i=r(t.changedTouches),u=i.length;o<u;o++)n=i[o],(e=this.lookup(n))&&(e.touchcancel(t,n),this.release(n,e),s--);return this},o.Touch.onmousedown=function(t){return this},o.Touch.onmousemove=function(t){return this},o.Touch.onmouseup=function(t){return this},o.Touch.prototype.phase=function(t){return this._phase},o.Touch.prototype.setPhase=function(t){return this._phase=t,this},o.Touch.prototype.active=function(t){return this._active},o.Touch.prototype.setActive=function(t){return this._active=t,this},o.Touch.prototype.event=function(t){return this._event},o.Touch.prototype.setEvent=function(t){return this._event=t,this},o.Touch.prototype.pointer=function(t){return this._pointer},o.Touch.prototype.setPointer=function(t){return this._pointer=t,this},o.Touch.prototype.target=function(t){return this._target},o.Touch.prototype.setTarget=function(t){return this._target=t,this},o.Touch.prototype.handler=function(t){return this._handler},o.Touch.prototype.setHandler=function(t){return this._handler=t,this},o.Touch.prototype.updates=function(t){return this._updates},o.Touch.prototype.setUpdates=function(t){return this._updates=t,this},o.Touch.prototype.suppress=function(t){return this._suppress},o.Touch.prototype.setSuppress=function(t){return this._suppress=t,this},o.Touch.prototype.data=function(t){return this._data},o.Touch.prototype.setData=function(t){return this._data=t,this},o.Touch.prototype.__bubble={chainable:!0,name:"bubble"},o.Touch.prototype.bubble=function(t){return void 0!==t?(this.setBubble(t),this):this._bubble},o.Touch.prototype.setBubble=function(t){return this._bubble=t,this},o.Touch.prototype.timestamp=function(t){return this._timestamp},o.Touch.prototype.setTimestamp=function(t){return this._timestamp=t,this},o.Touch.prototype.gestures=function(t){return this._gestures},o.Touch.prototype.setGestures=function(t){return this._gestures=t,this},o.Touch.prototype.capture=function(){return this._captured=!0,this._event&&this._event.stopPropagation(),this._selblocker||(this._selblocker=function(t){return t.preventDefault()},o.document().addEventListener("selectstart",this._selblocker,!0)),this},o.Touch.prototype.isCaptured=function(){return!!this._captured},o.Touch.prototype.extend=function(t){return this._gestures||(this._gestures=[]),this._gestures.push(t),this},o.Touch.prototype.redirect=function(t){return this._redirect=t,this},o.Touch.prototype.suppress=function(){return this._active=!1,this},o.Touch.prototype.setSuppress=function(t){return console.warn("Imba.Touch#suppress= is deprecated"),this._supress=t,this},o.Touch.prototype.touchstart=function(t,e){return this._event=t,this._touch=e,this._button=0,this._x=e.clientX,this._y=e.clientY,this.began(),this.update(),t&&this.isCaptured()&&t.preventDefault(),this},o.Touch.prototype.touchmove=function(t,e){return this._event=t,this._x=e.clientX,this._y=e.clientY,this.update(),t&&this.isCaptured()&&t.preventDefault(),this},o.Touch.prototype.touchend=function(t,e){if(this._event=t,this._x=e.clientX,this._y=e.clientY,this.ended(),o.Touch.LastTimestamp=t.timeStamp,this._maxdr<20){var n=new o.Event(t);n.setType("tap"),n.process()}return t&&this.isCaptured()&&t.preventDefault(),this},o.Touch.prototype.touchcancel=function(t,e){return this.cancel()},o.Touch.prototype.mousedown=function(t,e){var n=this;return n._event=t,n._button=t.button,n._x=e.clientX,n._y=e.clientY,n.began(),n.update(),n._mousemove=function(t){return n.mousemove(t,t)},o.document().addEventListener("mousemove",n._mousemove,!0),n},o.Touch.prototype.mousemove=function(t,e){return this._x=e.clientX,this._y=e.clientY,this._event=t,this.isCaptured()&&t.preventDefault(),this.update(),this.move(),this},o.Touch.prototype.mouseup=function(t,e){return this._x=e.clientX,this._y=e.clientY,this.ended(),this},o.Touch.prototype.idle=function(){return this.update()},o.Touch.prototype.began=function(){this._timestamp=Date.now(),this._maxdr=this._dr=0,this._x0=this._x,this._y0=this._y;var t=this.event().target,e=null;for(this._sourceTarget=t&&o.getTagForDom(t);t&&(!(e=o.getTagForDom(t))||!e.ontouchstart||(this._bubble=!1,this.setTarget(e),this.target().ontouchstart(this),this._bubble));)t=t.parentNode;return this._updates++,this},o.Touch.prototype.update=function(){var t;if(!this._active||this._cancelled)return this;var e=Math.sqrt(this.dx()*this.dx()+this.dy()*this.dy());if(e>this._dr&&(this._maxdr=e),this._dr=e,this._redirect&&(this._target&&this._target.ontouchcancel&&this._target.ontouchcancel(this),this.setTarget(this._redirect),this._redirect=null,this.target().ontouchstart&&this.target().ontouchstart(this),this._redirect))return this.update();if(this._updates++,this._gestures)for(let t=0,e=r(this._gestures),n=e.length;t<n;t++)e[t].ontouchupdate(this);return(t=this.target())&&t.ontouchupdate&&t.ontouchupdate(this),this._redirect&&this.update(),this},o.Touch.prototype.move=function(){var t;if(!this._active||this._cancelled)return this;if(this._gestures)for(let t,e=0,n=r(this._gestures),o=n.length;e<o;e++)t=n[e],t.ontouchmove&&t.ontouchmove(this,this._event);return(t=this.target())&&t.ontouchmove&&t.ontouchmove(this,this._event),this},o.Touch.prototype.ended=function(){var t;if(!this._active||this._cancelled)return this;if(this._updates++,this._gestures)for(let t=0,e=r(this._gestures),n=e.length;t<n;t++)e[t].ontouchend(this);return(t=this.target())&&t.ontouchend&&t.ontouchend(this),this.cleanup_(),this},o.Touch.prototype.cancel=function(){return this._cancelled||(this._cancelled=!0,this.cancelled(),this.cleanup_()),this},o.Touch.prototype.cancelled=function(){var t;if(!this._active)return this;if(this._cancelled=!0,this._updates++,this._gestures)for(let t,e=0,n=r(this._gestures),o=n.length;e<o;e++)t=n[e],t.ontouchcancel&&t.ontouchcancel(this);return(t=this.target())&&t.ontouchcancel&&t.ontouchcancel(this),this},o.Touch.prototype.cleanup_=function(){return this._mousemove&&(o.document().removeEventListener("mousemove",this._mousemove,!0),this._mousemove=null),this._selblocker&&(o.document().removeEventListener("selectstart",this._selblocker,!0),this._selblocker=null),this},o.Touch.prototype.dr=function(){return this._dr},o.Touch.prototype.dx=function(){return this._x-this._x0},o.Touch.prototype.dy=function(){return this._y-this._y0},o.Touch.prototype.x0=function(){return this._x0},o.Touch.prototype.y0=function(){return this._y0},o.Touch.prototype.x=function(){return this._x},o.Touch.prototype.y=function(){return this._y},o.Touch.prototype.tx=function(){return this._targetBox||(this._targetBox=this._target.dom().getBoundingClientRect()),this._x-this._targetBox.left},o.Touch.prototype.ty=function(){return this._targetBox||(this._targetBox=this._target.dom().getBoundingClientRect()),this._y-this._targetBox.top},o.Touch.prototype.button=function(){return this._button},o.Touch.prototype.sourceTarget=function(){return this._sourceTarget},o.Touch.prototype.elapsed=function(){return Date.now()-this._timestamp},o.TouchGesture=function(){},o.TouchGesture.prototype.__active={default:!1,name:"active"},o.TouchGesture.prototype.active=function(t){return this._active},o.TouchGesture.prototype.setActive=function(t){return this._active=t,this},o.TouchGesture.prototype._active=!1,o.TouchGesture.prototype.ontouchstart=function(t){return this},o.TouchGesture.prototype.ontouchupdate=function(t){return this},o.TouchGesture.prototype.ontouchend=function(t){return this}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var o=n(0),i={esc:27,tab:9,enter:13,space:32,up:38,down:40},s=o.Tag.prototype;s.stopModifier=function(t){return t.stop()||!0},s.preventModifier=function(t){return t.prevent()||!0},s.silenceModifier=function(t){return t.silence()||!0},s.bubbleModifier=function(t){return t.bubble(!0)||!0},s.ctrlModifier=function(t){return 1==t.event().ctrlKey},s.altModifier=function(t){return 1==t.event().altKey},s.shiftModifier=function(t){return 1==t.event().shiftKey},s.metaModifier=function(t){return 1==t.event().metaKey},s.keyModifier=function(t,e){return!e.keyCode()||e.keyCode()==t},s.delModifier=function(t){return!t.keyCode()||(8==t.keyCode()||46==t.keyCode())},s.selfModifier=function(t){return t.event().target==this._dom},s.leftModifier=function(t){return null!=t.button()?0===t.button():s.keyModifier(37,t)},s.rightModifier=function(t){return null!=t.button()?2===t.button():s.keyModifier(39,t)},s.middleModifier=function(t){return null==t.button()||1===t.button()},s.getHandler=function(t,e){return this[t]?this:this._owner_&&this._owner_.getHandler?this._owner_.getHandler(t,e):void 0},o.Event=function(t){this.setEvent(t),this._bubble=!0},o.Event.prototype.event=function(t){return this._event},o.Event.prototype.setEvent=function(t){return this._event=t,this},o.Event.prototype.prefix=function(t){return this._prefix},o.Event.prototype.setPrefix=function(t){return this._prefix=t,this},o.Event.prototype.source=function(t){return this._source},o.Event.prototype.setSource=function(t){return this._source=t,this},o.Event.prototype.data=function(t){return this._data},o.Event.prototype.setData=function(t){return this._data=t,this},o.Event.prototype.responder=function(t){return this._responder},o.Event.prototype.setResponder=function(t){return this._responder=t,this},o.Event.wrap=function(t){return new this(t)},o.Event.prototype.setType=function(t){return this._type=t,this},o.Event.prototype.type=function(){return this._type||this.event().type},o.Event.prototype.native=function(){return this._event},o.Event.prototype.name=function(){return this._name||(this._name=this.type().toLowerCase().replace(/\:/g,""))},o.Event.prototype.bubble=function(t){return null!=t?(this.setBubble(t),this):this._bubble},o.Event.prototype.setBubble=function(t){return this._bubble=t,this},o.Event.prototype.stop=function(){return this.setBubble(!1),this},o.Event.prototype.stopPropagation=function(){return this.stop()},o.Event.prototype.halt=function(){return this.stop()},o.Event.prototype.prevent=function(){return this.event().preventDefault?this.event().preventDefault():this.event().defaultPrevented=!0,this.defaultPrevented=!0,this},o.Event.prototype.preventDefault=function(){return console.warn("Event#preventDefault is deprecated - use Event#prevent"),this.prevent()},o.Event.prototype.isPrevented=function(){return this.event()&&this.event().defaultPrevented},o.Event.prototype.cancel=function(){return console.warn("Event#cancel is deprecated - use Event#prevent"),this.prevent()},o.Event.prototype.silence=function(){return this._silenced=!0,this},o.Event.prototype.isSilenced=function(){return!!this._silenced},o.Event.prototype.target=function(){return o.getTagForDom(this.event()._target||this.event().target)},o.Event.prototype.responder=function(){return this._responder},o.Event.prototype.redirect=function(t){return this._redirect=t,this},o.Event.prototype.processHandlers=function(t,e){let n=1,s=e.length,u=this._bubble,a=e.state||(e.state={});for(u&&(this._bubble=1);n<s;){let s=!1,u=e[n++],h=null,c=t,l=!1;if(u instanceof Array&&(h=u.slice(1),l=!0,u=u[0]),"string"==typeof u){i[u]&&(h=[i[u]],u="key");let e=u+"Modifier";t[e]&&(s=!0,h=(h||[]).concat([this,a]),u=t[e])}if("string"==typeof u){let t=null,e=a.context;e&&(e.getHandler instanceof Function&&(e=e.getHandler(u,this)),e[u]instanceof Function&&(u=t=e[u],c=e)),t||console.warn("event "+this.type()+": could not find '"+u+"' in context",e)}if(u instanceof Function){if(l)for(let e,n=0,o=r(h),i=o.length;n<i;n++)if(e=o[n],"string"==typeof e&&"~"==e[0]&&"$"==e[1]){let r=e.slice(2);"event"==r?h[n]=this:this[r]instanceof Function?h[n]=this[r]():t[r]instanceof Function?h[n]=t[r]():console.warn("Missing special handler $"+r)}let e=u.apply(c,h||[this]);if(s||this._responder||(this._responder=t),0==e)break;e&&!this._silenced&&e.then instanceof Function&&e.then(o.commit)}}return 1===this._bubble&&(this._bubble=u),null},o.Event.prototype.process=function(){for(var t,e,n=this.name(),o="on"+(this._prefix||"")+n,i=this.event()._target||this.event().target,s=i._responder||i;s;){this._redirect=null;let i=s._dom?s:s._tag;if(i){if(e=i._on_){for(let t,o=0,s=r(e),u=s.length;o<u;o++){if(t=s[o],!t)continue;t[0];n==t[0]&&this.bubble()&&this.processHandlers(i,t)}if(!this.bubble())break}this.bubble()&&i[o]instanceof Function&&(this._responder||(this._responder=i),this._silenced=!1,t=i[o](this,this.data())),i.onevent&&i.onevent(this)}if(!this.bubble()||!(s=this._redirect||(i?i.parent():s.parentNode)))break}return this.processed(),t&&t.then instanceof Function&&t.then(this.processed.bind(this)),this},o.Event.prototype.processed=function(){return!this._silenced&&this._responder&&(o.emit(o,"event",[this]),o.commit(this.event())),this},o.Event.prototype.x=function(){return this.native().x},o.Event.prototype.y=function(){return this.native().y},o.Event.prototype.button=function(){return this.native().button},o.Event.prototype.keyCode=function(){return this.native().keyCode},o.Event.prototype.ctrl=function(){return this.native().ctrlKey},o.Event.prototype.alt=function(){return this.native().altKey},o.Event.prototype.shift=function(){return this.native().shiftKey},o.Event.prototype.meta=function(){return this.native().metaKey},o.Event.prototype.key=function(){return this.native().key},o.Event.prototype.which=function(){return this.event().which}},function(t,e,n){function r(t){return t?t.toArray?t.toArray():t:[]}var o={},i=n(0),s=function(t,e,n){if(e instanceof Array)for(let o=0,i=r(e),u=i.length;o<u;o++)s(t,i[o],n);else if(e&&e._slot_)t.removeChild(e);else if(null!=e){let r=n?n.nextSibling:t._dom.firstChild;if(!(r instanceof Text&&r.textContent==e))throw"cannot remove string";t.removeChild(r)}return n},u=function(t,e){if(e instanceof Array){let n=0,r=e.taglen,o=null!=r?e.domlen=r:e.length;for(;n<o;)u(t,e[n++])}else e&&e._dom?t.appendChild(e):null!=e&&!1!==e&&t.appendChild(i.createTextNode(e))},a=function(t,e,n){if(e instanceof Array){let r=0,o=e.taglen,i=null!=o?e.domlen=o:e.length;for(;r<i;)a(t,e[r++],n)}else e&&e._dom?t.insertBefore(e,n):null!=e&&!1!==e&&t.insertBefore(i.createTextNode(e),n);return n};o.insertNestedAfter=function(t,e,n){var r=n?n.nextSibling:t._dom.firstChild;return r?(a(t,e,r),r.previousSibling):(u(t,e),t._dom.lastChild)};var h=function(t,e,n,s){var u,a=e[e.length-1],h=[],c=[],l=[],p=0,d=0;for(let o,i=0,s=r(n),a=s.length;i<a;i++)if(o=s[i],o&&3==o.nodeType?((u=e.indexOf(o.textContent))>=0&&(e[u]=o),!0):u=e.indexOf(o),h.push(u),-1!=u){for(var f=h.length-2;f>=0;)if(-1==h[f])f--;else{if(u>h[f])break;f=c[f]}c.push(f);var _=-1==f?0:l[f]+1;_>p&&(p=_,d=i),l.push(_)}else t.removeChild(o),c.push(-1),l.push(-1);for(var g=[],m=h.length-1;m>=0;)m==d&&-1!=h[m]&&(g[h[m]]=!0,d=c[d]),m-=1;for(let n,u=0,a=r(e),h=a.length;u<h;u++){if(n=a[u],!g[u]){n&&n._dom||(n=e[u]=i.createTextNode(n));var y=e[u-1];o.insertNestedAfter(t,n,y&&y._slot_||y||s)}s=n._slot_||s&&s.nextSibling||t._dom.firstChild}return a&&a._slot_||s},c=function(t,e,n,r){for(var o=e.length,i=n.length,s=e.cache.i$,u=0,a=o-i;u<i&&u<o&&e[u]===n[u];)u++;if(s>1e3&&s-o>500&&e.cache.$prune(e),!(a>0&&u==i)){if(a>0){let r=o;for(;r>u&&e[r-1]===n[r-1-a];)r--;if(a==r-u){let o=n[u]._slot_;for(;u<r;)t.insertBefore(e[u++],o);return}}else{if(a<0&&u==o){for(;u<i;)t.removeChild(n[u++]);return}if(a<0){let r=i;for(;r>u&&e[r-1+a]===n[r-1];)r--;if(a==u-r){for(;u<r;)t.removeChild(n[u++]);return}}else if(u==o)return}return h(t,e,n,r)}for(;u<o;)t.appendChild(e[u++])},l=function(t,e,n,r){var o=e.taglen,i=e.domlen||0,s=o?e[o-1]:null;if(i>o)for(;i>o;){var u=e[--i];t.removeChild(u._slot_)}else if(o>i){let n=i?e[i-1]._slot_:r,s=n?n.nextSibling:t._dom.firstChild;for(;i<o;){let n=e[i++];s?t.insertBefore(n._slot_,s):t.appendChild(n._slot_)}}return e.domlen=o,s?s._slot_:r},p=function(t,e,n,i){var u=null==e||!1===e,a=null==n||!1===n;if(e===n)return u?i:e._slot_?e._slot_:e instanceof Array&&null!=e.taglen?l(t,e,0,i):i?i.nextSibling:t._dom.firstChild;if(e instanceof Array){if(n instanceof Array){let o=e.static;if(!o&&!n.static)return function(t,e,n,r){var o=e.length,i=o,s=e[o-1];if(o==n.length&&e[0]===n[0])for(;i--&&e[i]===n[i];);return-1==i?s&&s._slot_||s||r:h(t,e,n,r)}(t,e,n,i);if(o==n.static){for(let o=0,s=r(e),u=s.length;o<u;o++)i=p(t,s[o],n[o],i);return i}s(t,n,i)}else a||(n._slot_?t.removeChild(n):t.removeChild(i?i.nextSibling:t._dom.firstChild));return o.insertNestedAfter(t,e,i)}if(!u&&e._slot_)return a||s(t,n,i),o.insertNestedAfter(t,e,i);if(u)return a||s(t,n,i),i;{let r;if(n instanceof Array)s(t,n,i);else if(n&&n._slot_)t.removeChild(n);else if(!a&&(r=i?i.nextSibling:t._dom.firstChild,r instanceof Text&&r.textContent!=e))return r.textContent=e,r;return o.insertNestedAfter(t,e,i)}};i.createTagScope().extendTag("element",(function(t){t.prototype.setChildren=function(t,e){var n=this._tree_;if(t===n&&(!t||null==t.taglen))return this;if(n||3==e)if(1==e){let e=null;for(let o=0,i=r(t),s=i.length;o<s;o++)e=p(this,i[o],n[o],e)}else{if(2==e)return this;if(3==e){if("object"!=typeof t)return this.setText(t);if(t&&t._dom)this.removeAllChildren(),this.appendChild(t);else{if(!(t instanceof Array))return this.setText(t);5==t._type&&n&&5==n._type?c(this,t,n,null):n instanceof Array?p(this,t,n,null):(this.removeAllChildren(),u(this,t))}}else 4==e?l(this,t,0,null):5==e?c(this,t,n,null):t instanceof Array&&n instanceof Array?p(this,t,n,null):(this.removeAllChildren(),u(this,t))}else this.removeAllChildren(),u(this,t);return this._tree_=t,this},t.prototype.content=function(){return this._content||this.children().toArray()},t.prototype.setText=function(t){if(t!=this._tree_){var e=null===t||!1===t?"":t;(this._text_||this._dom).textContent=e,this._text_||(this._text_=this._dom.firstChild),this._tree_=t}return this}}));var d=i.Tag.prototype;d.setContent=d.setChildren,"undefined"!=typeof navigator&&0==(navigator.vendor||"").indexOf("Apple")&&(d.setText=function(t){return t!=this._tree_&&(this._dom.textContent=null===t||!1===t?"":t,this._tree_=t),this})},function(t,e,n){var r=n(1),o=r.createElementFactory(),i=r.createTagScope().defineTag("TransformedText",(function(t){t.prototype.map=function(t){return this._map},t.prototype.setMap=function(t){return this._map=t,this},t.prototype.text=function(t){return this._text},t.prototype.setText=function(t){return this._text=t,this},t.prototype.render=function(){var t=this.$;let e=this._map.apply(this._text);return this.$open(0).setChildren(this._text===e?t[0]||o("div",t,0,this):r.static([(t[1]||o("b",t,1,this)).setContent(this.map().name,3),(t[2]||o("div",t,2,this)).setContent(e,3)],2,1),3).synced()}}));e.TransformedText=i},function(t,e,n){var r=n(1),o=r.createElementFactory(),i=r.createTagScope().defineTag("TransformDebugger",(function(t){t.prototype.map=function(t){return this._map},t.prototype.setMap=function(t){return this._map=t,this},t.prototype.render=function(){var t=this.$;return this.$open(0).setChildren(t.$=t.$||[o("b",t,0,this),o("div",t,1,this)],2).synced((t[0].setContent(this.map().name,3),t[1].setContent(this.map().debug,3),!0))}}));e.TransformDebugger=i},function(t,e,n){var r=n(4).TextTransform,o=n(22).BackwardsTextTransform;let i=[new r("White Circles",[["","a","z"],["","A","Z"],["","0","0"],["","1","9"]]),new r("Black Circles",[["","a","z"],["","A","Z"],["","1","9"],["","0","0"]]),new r("Math bold",[["","A","Z"],["","a","z"],["","0","9"]]),new r("Math bold Fraktur",[["","a","z"],["","A","Z"]]),new r("Math Fraktur",[["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"]]),new r("Math bold italic",[["","A","Z"],["","a","z"]]),new r("Math bold script",[["","A","Z"],["","a","z"]]),new r("Math sans bold",[["","A","Z"],["","a","z"],["","0","9"]]),new r("Math sans bold italic",[["","A","Z"],["","a","z"]]),new r("Math sans",[["","A","Z"],["","a","z"]]),new r("Math sans italic",[["","A","Z"],["","a","z"]]),new r("Math monospace",[["","A","Z"],["","a","z"],["","0","9"]]),new r("Math double-struck",[["","A","Z"],["","a","z"],["","0","9"],["","C"],["","H"],["","N"],["","P"],["","Q"],["","R"],["","Z"]]),new r("Parenthesized",[["","A","Z"],["","a","z"],["","1","9"]]),new r("Squared",[["","A","Z"],["","a","z"]]),new r("Negative Squared",[["","A","Z"],["","a","z"]]),new r("Fullwidth",[["","A","Z"],["","a","z"],["","0","9"],["","!"],["",'"'],["","#"],["","$"],["","%"],["","&"],["","'"],["","("],["",")"],["","*"],["","+"],["",","],["","-"],["","."],["","/"],["",":"],["",";"],["","<"],["","="],["",">"],["","?"],["","@"],["","["],["","\\"],["","]"],["","^"],["","_"],["","`"],["","{"],["","|"],["","}"],["","~"]]),new r("Ethiopic",[["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"]]),new r("Thai",[["","a"],["","b"],["c","c"],["d","d"],["","e"],["","f"],["g","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["o","o"],["","p"],["q","q"],["","r"],["","s"],["","t"],["u","u"],["","v"],["w","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["c","C"],["d","D"],["","E"],["","F"],["g","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["o","O"],["","P"],["q","Q"],["","R"],["","S"],["","T"],["u","U"],["","V"],["w","W"],["","X"],["","Y"],["","Z"]]),new r("Cyrillic",[["","A"],["","B"],["","C"],["","D"],["","E"],["F","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["L","L"],["","M"],["","N"],["","O"],["","P"],["Q","Q"],["","R"],["","S"],["","T"],["","U"],["V","V"],["","W"],["","X"],["","Y"],["Z","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["f","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["l","l"],["","m"],["","n"],["","o"],["","p"],["q","q"],["","r"],["","s"],["","t"],["","u"],["v","v"],["","w"],["","x"],["","y"],["z","z"]]),new r("Curvy 1",[["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"]]),new r("Curvy 2",[["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"]]),new r("Curvy 3",[["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"]]),new r("A-cute",[["","A"],["B","B"],["","C"],["D","D"],["","E"],["F","F"],["","G"],["H","H"],["","I"],["J","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["Q","Q"],["","R"],["","S"],["T","T"],["","U"],["V","V"],["","W"],["X","X"],["","Y"],["","Z"],["","a"],["b","b"],["","c"],["d","d"],["","e"],["f","f"],["","g"],["h","h"],["","i"],["j","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["q","q"],["","r"],["","s"],["t","t"],["","u"],["v","v"],["","w"],["x","x"],["","y"],["","z"]]),new r("Rock Dots",[["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["J","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["Q","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["j","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["q","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"]]),new r("Small Caps",[["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["Q","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["x","x"],["Y","y"],["","z"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["Q","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["x","X"],["Y","Y"],["","Z"]]),new r("Stroked",[["","A"],["","B"],["","C"],["","D"],["","E"],["F","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["M","M"],["N","N"],["","O"],["","P"],["","Q"],["","R"],["S","S"],["","T"],["","U"],["V","V"],["W","W"],["X","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["f","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["m","m"],["n","n"],["","o"],["","p"],["","q"],["","r"],["s","s"],["","t"],["","u"],["v","v"],["w","w"],["x","x"],["","y"],["","z"]]),new r("Subscript",[["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","A"],["B","B"],["C","C"],["D","D"],["","E"],["F","F"],["G","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["Q","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["W","W"],["","X"],["Y","Y"],["Z","Z"],["","a"],["b","b"],["c","c"],["d","d"],["","e"],["f","f"],["g","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["q","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["w","w"],["","x"],["y","y"],["z","z"]]),new r("Superscript",[["","0"],["","1"],["","2"],["","3"],["","4"],["","5"],["","6"],["","7"],["","8"],["","9"],["","A"],["","B"],["","C"],["","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["","N"],["","O"],["","P"],["Q","Q"],["","R"],["","S"],["","T"],["","U"],["","V"],["","W"],["","X"],["","Y"],["","Z"],["","a"],["","b"],["","c"],["","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["","n"],["","o"],["","p"],["q","q"],["","r"],["","s"],["","t"],["","u"],["","v"],["","w"],["","x"],["","y"],["","z"]]),new r("Reversed",[["A","A"],["d","B"],["","C"],["b","D"],["","E"],["","F"],["G","G"],["H","H"],["I","I"],["J","J"],["K","K"],["","L"],["M","M"],["","N"],["O","O"],["","P"],["p","Q"],["","R"],["","S"],["T","T"],["U","U"],["V","V"],["W","W"],["X","X"],["Y","Y"],["Z","Z"],["A","a"],["d","b"],["","c"],["b","d"],["","e"],["","f"],["g","g"],["H","h"],["i","i"],["j","j"],["k","k"],["l","l"],["m","m"],["","n"],["o","o"],["q","p"],["p","q"],["","r"],["","s"],["T","t"],["U","u"],["v","v"],["w","w"],["x","x"],["Y","y"],["z","z"],["","?"]]),new o("Reversed (backwards)",[["A","A"],["d","B"],["","C"],["b","D"],["","E"],["","F"],["G","G"],["H","H"],["I","I"],["J","J"],["K","K"],["","L"],["M","M"],["","N"],["O","O"],["","P"],["p","Q"],["","R"],["","S"],["T","T"],["U","U"],["V","V"],["W","W"],["X","X"],["Y","Y"],["Z","Z"],["A","a"],["d","b"],["","c"],["b","d"],["","e"],["","f"],["g","g"],["H","h"],["i","i"],["j","j"],["k","k"],["l","l"],["m","m"],["","n"],["o","o"],["q","p"],["p","q"],["","r"],["","s"],["T","t"],["U","u"],["v","v"],["w","w"],["x","x"],["Y","y"],["z","z"],["","?"]]),new r("Inverted",[["","A"],["q","B"],["","C"],["p","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["u","N"],["o","O"],["d","P"],["b","Q"],["","R"],["s","S"],["","T"],["n","U"],["","V"],["","W"],["x","X"],["","Y"],["z","Z"],["","a"],["q","b"],["","c"],["p","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["u","n"],["o","o"],["d","p"],["b","q"],["","r"],["s","s"],["","t"],["n","u"],["","v"],["","w"],["x","x"],["","y"],["z","z"],["","?"],["","!"]]),new o("Inverted",[["","A"],["q","B"],["","C"],["p","D"],["","E"],["","F"],["","G"],["","H"],["","I"],["","J"],["","K"],["","L"],["","M"],["u","N"],["o","O"],["d","P"],["b","Q"],["","R"],["s","S"],["","T"],["n","U"],["","V"],["","W"],["x","X"],["","Y"],["z","Z"],["","a"],["q","b"],["","c"],["p","d"],["","e"],["","f"],["","g"],["","h"],["","i"],["","j"],["","k"],["","l"],["","m"],["u","n"],["o","o"],["d","p"],["b","q"],["","r"],["s","s"],["","t"],["n","u"],["","v"],["","w"],["x","x"],["","y"],["z","z"],["","?"],["","!"]])];e.TextTransforms=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(1);let o=n(5).ucs2;var i=n(4).TextTransform;function s(){return i.apply(this,arguments)}r.subclass(s,i),s.prototype.apply=function(t){let e=[],n=o.decode(t);for(let t,o=0,i=(r=n)?r.toArray?r.toArray():r:[],s=i.length;o<s;o++)t=i[o],this._cmap[t]?e.push(this._cmap[t]):e.push(t);var r;return e.reverse(),o.encode(e)},Object.defineProperty(s.prototype,"debug",{get:function(){var t=this;let e=Object.keys(t._cmap);e.sort((function(t,e){return t-e}));let n=e.map((function(e){return t._cmap[e]}));return n.reverse(),o.encode(n)},configurable:!0}),e.BackwardsTextTransform=s},function(t,e){}]);